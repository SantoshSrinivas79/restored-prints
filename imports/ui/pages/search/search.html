<template name="search">
  <div class="row">
    <div class="col s12 l3">
      {{> search_refinement}}
      <p class="hide-on-med-and-down">{{search_result_count}} results found</p>
    </div>

    <div class="col s12 l9">
      {{#each search_results}}
        {{> search_row}}
      {{/each}}
    </div>

  </div>
  <div class="row center show-on-med-and-down-only">
    {{> search_pagination}}
  </div>
</template>

<template name="search_row">
  <div class="row">
    {{#each row}}
      <div class="col s12 m4">
        {{> search_print}}
      </div>
    {{/each}}
  </div>
</template>

<template name="search_refinement">
  <form>
    <ul id="search_refinement" class="collapsible collapsible-accordion" data-collapsible="accordion">
      <li>
        <div class="collapsible-header">Author</div>
        <div class="collapsible-body">
          {{#each publications}}
            <p>
              <input type="checkbox" class="filled-in" id="filled-in-box"/>
              <label for="filled-in-box">{{title}}</label>
            </p>
          {{/each}}
        </div>
      </li>
      <li>
        <div class="collapsible-header">Painter</div>
        <div class="collapsible-body"><p>Lorem ipsum dolor sit amet.</p></div>
      </li>
      <li>
        <div class="collapsible-header">Publication</div>
        <div class="collapsible-body"><p>Lorem ipsum dolor sit amet.</p></div>
      </li>
    </ul>
  </form>
</template>

<template name="search_print">
  <div class="card">
    <a href="{{path}}">
      <div class="card-image">
        <img src="{{image_url}}">
      </div>
      <div class="card-content">
        <span class="card-title">{{title}}</span>
      </div>
    </a>
  </div>
</template>

<template name="search_pagination">
  {{#if enabled}}
  <ul class="pagination">
    <li class="{{previous_enabled}}"><a href="{{previous_path}}"><i class="material-icons">chevron_left</i></a></li>
    {{#each pages}}
    <li class="waves-effect {{#if is_current_page page}}active{{/if}}"><a href="{{path}}">{{page}}</a></li>
    {{/each}}
    <li class="{{next_enabled}}"><a href="{{next_path}}"><i class="material-icons">chevron_right</i></a></li>
  </ul>
  {{/if}}
</template>