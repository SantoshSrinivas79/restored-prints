<template name="admin_prints_create">
  <div class="row">
    <div class="card">
      <div class="card-title">
        {{> breadcrumb}}
      </div>
      <div class="card-content">
        <form id="admin_prints_create">
          <div class="row">
            <div class="col m7">
              {{> admin_prints_create_form}}
            </div>
            <div class="col m5">
              <div class="row">
                {{> admin_prints_create_prices}}
              </div>
              <div class="row">
                {{> admin_prints_create_filepicker}}
              </div>
              <div class="row">
                <div class="input-field col m12">
                  {{#if upload_in_progress}}
                    <div class="preloader-wrapper big active right">
                      <div class="spinner-layer spinner-blue-only">
                        <div class="circle-clipper left">
                          <div class="circle"></div>
                        </div>
                        <div class="gap-patch">
                          <div class="circle"></div>
                        </div>
                        <div class="circle-clipper right">
                          <div class="circle"></div>
                        </div>
                      </div>
                    </div>
                  {{else}}
                    <button class="btn waves-effect waves-light right" type="submit" name="action">Submit
                      <i class="material-icons right">send</i>
                    </button>
                  {{/if}}
                </div>
              </div>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</template>

<template name="admin_prints_create_form">
  <div class="row">
    <div class="input-field col s3">
      <input id="_id" type="text" class="validate" name="_id" value="JD0022" required>
      <label for="_id">Ref</label>
    </div>
    <div class="input-field col s9">
      <input id="title" type="text" class="validate" name="title" value="KingFisher" required>
      <label for="title">Title</label>
    </div>
  </div>
  <div class="row">
    <div class="input-field col s6">
      <input id="latin_title_modern" type="text" class="validate" value="Bonus Maximus" name="latin_title_modern">
      <label for="latin_title_modern">Latin Name</label>
    </div>
    <div class="input-field col s6">
      <input id="latin_title_historic" type="text" class="validate" value="Bonus Maximus" name="latin_title_historic">
      <label for="latin_title_historic">Historic Latin Name</label>
    </div>
  </div>

  <div class="row">
    <div class="input-field col s12">
      <select name="publication" required>
        {{#each publications}}
          {{#if isFirst}}
            <option value="{{_id}}" selected>{{title}}</option>
          {{else}}
            <option value="{{_id}}">{{title}}</option>
          {{/if}}
        {{/each}}
      </select>
      <label>Publication</label>
    </div>
  </div>

  <div class="row">
    <div class="input-field col s12">
      <select name="lithograph_by" multiple>
        {{#each artists}}
          {{#if isFirst}}
            <option value="{{title}}" selected>{{title}}</option>
          {{else}}
            <option value="{{title}}">{{title}}</option>
          {{/if}}
        {{/each}}
      </select>
      <label>Lithograph Artists</label>
    </div>
  </div>

  <div class="row">
    <div class="input-field col s12">
      <select name="painting_by" multiple>
        {{#each artists}}
          {{#if isFirst}}
            <option value="{{title}}" selected>{{title}}</option>
          {{else}}
            <option value="{{title}}">{{title}}</option>
          {{/if}}
        {{/each}}
      </select>
      <label>Painting Artists</label>
    </div>
  </div>

  <div class="row">
    <div class="input-field col s12">
      <textarea id="textarea1" name="description" class="materialize-textarea"></textarea>
      <label for="textarea1">Description</label>
    </div>
  </div>
</template>

<template name="admin_prints_create_filepicker">
  <div class="file-field input-field">
    <div class="btn">
      <span>File</span>
      <input type="file" name="image_upload" accept=".png" required>
    </div>
    <div class="file-path-wrapper">
      <input class="file-path validate" type="text">
    </div>
    <img class="responsive-img"/>
  </div>
</template>

<template name="admin_prints_create_prices">
  {{#each price_rows}}
    <div class="row price-row">
      <div class="input-field col s3">
        <input id="mmx{{@index}}" type="number" class="validate mmx" value="100" required>
        <label for="mmx{{@index}}">X</label>
      </div>
      <div class="input-field col s3">
        <input id="mmy{{@index}}" type="number" class="validate mmy" value="200" required>
        <label for="mmy{{@index}}">Y</label>
      </div>
      <div class="input-field col s4">
        <input id="price{{@index}}" type="number" class="validate price" value="50" required>
        <label for="price{{@index}}">Price</label>
      </div>
      <div class="input-field col s1">
        <i class="material-icons close">close</i>
      </div>
    </div>
  {{/each}}
  <div class="row">
    <div class="input-field col s4">
      <a class="add_price" href="#">+ Add price</a>
    </div>
  </div>
</template>